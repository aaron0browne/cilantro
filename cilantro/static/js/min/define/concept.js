var Concept,ConceptCollection,ConceptView,__hasProp=Object.prototype.hasOwnProperty,__extends=function(a,b){function c(){this.constructor=a}for(var d in b)__hasProp.call(b,d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype;return a},__bind=function(a,b){return function(){return a.apply(b,arguments)}};Concept=function(){function a(){a.__super__.constructor.apply(this,arguments)}__extends(a,Backbone.Model);return a}(),ConceptCollection=function(){function a(){a.__super__.constructor.apply(this,arguments)}__extends(a,Backbone.Collection),a.prototype.model=Concept,a.prototype.url="/apps/audgendb/api/criteria/";return a}(),ConceptView=function(){function a(){this.subdomainBinding=__bind(this.subdomainBinding,this),this.domainBinding=__bind(this.domainBinding,this),this.conceptBinding=__bind(this.conceptBinding,this),a.__super__.constructor.apply(this,arguments)}__extends(a,Backbone.View),a.prototype.template=_.template('<span class="name"><%= name %></span>\n            <span class="description"><%= description %></span>'),a.prototype.events={click:"clickBinding"},a.prototype.initialize=function(){controller.bind("change:concept",this.conceptBinding),this.model.domain.type==="domain"?controller.bind("change:domain",this.domainBinding):controller.bind("change:subdomain",this.subdomainBinding),this.render();return Synapse(controller).notify(this,{setInterface:"conceptBinding"})},a.prototype.render=function(){return this.jq=$(this.el).html(this.template(this.model.toJSON()))},a.prototype.conceptBinding=function(){return this.model===controller.get("concept")?this.jq.addClass("active"):this.jq.removeClass("active")},a.prototype.domainBinding=function(){return this.model.domain===controller.get("domain")?this.jq.show():this.jq.hide()},a.prototype.subdomainBinding=function(){var a,b;a=controller.get("domain"),b=controller.get("subdomain");return b?b===this.model.domain?this.jq.show():this.jq.hide():a===this.model.domain.parent?this.jq.show():this.jq.hide()},a.prototype.clickBinding=function(a){this.model.domain.type==="domain"?controller.set({concept:this.model,domain:this.model.domain}):controller.set({concept:this.model,subdomain:this.model.domain});return!1};return a}()