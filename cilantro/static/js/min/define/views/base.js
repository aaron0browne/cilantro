define("define/views/base",["lib/backbone"],function(){var a=Backbone.View.extend({events:{click:"setModelActiveState"},initialize:function(){this.model.bind("change:active",_.bind(this.toggleActiveState,this)),this.model.view=this,this.render()},render:function(){this.jq=this.jq||$(this.el),this.jq.html(this.template(this.model.toJSON())),this.trigger("render");return this},setModelActiveState:function(a){this.model.collection.updateActiveState(this.model.id)},toggleActiveState:function(){this.model.get("active")?this.jq.addClass("active"):this.jq.removeClass("active")}}),b=Backbone.View.extend({initialize:function(){this.collection.bind("refresh",_.bind(this.render,this)),this.collection.fetch()},render:function(){this.collection.each(_.bind(this.createModelView,this)),this.trigger("render");return this},createModelView:function(a){var b=new this.modelView({model:a});this.jq.append(b.el)}});return{ActiveStateView:a,SingleActiveStateCollectionView:b}})