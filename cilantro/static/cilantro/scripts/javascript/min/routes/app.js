var __bind=function(fn,me){return function(){return fn.apply(me,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)__hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child};define(["environ","mediator","jquery","underscore","backbone"],function(environ,mediator,$,_,Backbone){var AppArea;return AppArea=function(_super){function AppArea(){return this.updateCount=__bind(this.updateCount,this),AppArea.__super__.constructor.apply(this,arguments)}return __extends(AppArea,_super),AppArea.prototype.initialize=function(){},AppArea.prototype.load=function(){return this.$uniqueCount=$("<span class=stat></span>"),mediator.subscribe("datacontext/change",this.updateCount),App.DataContext.when(this.updateCount),$("#subnav .nav.pull-left:first").append($("<li>").html(this.$uniqueCount)),$(".modal").modal({show:!1})},AppArea.prototype.updateCount=function(){var count,pretty;return count=App.DataContext.session.get("count"),pretty=App.utils.intword(count),this.$uniqueCount.text(pretty).attr("title",App.utils.intcomma(count))},AppArea}(Backbone.View),App.register(!1,"app",new AppArea)})