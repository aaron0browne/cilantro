var __hasProp={}.hasOwnProperty,__extends=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)__hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child};define(["environ","mediator","underscore","serrano"],function(environ,mediator,_,Serrano){var DataViewHistory,DataViews;return DataViews=function(_super){function DataViews(){return DataViews.__super__.constructor.apply(this,arguments)}return __extends(DataViews,_super),DataViews.prototype.url=environ.absolutePath("/api/views/"),DataViews.prototype.initialize=function(){return this.pending(),this.on("reset",function(){return this.resolve()}),this.fetch()},DataViews.prototype.getNamed=function(){return this.filter(function(model){return model.get("name")})},DataViews}(Serrano.DataViews),DataViewHistory=function(_super){function DataViewHistory(){return DataViewHistory.__super__.constructor.apply(this,arguments)}return __extends(DataViewHistory,_super),DataViewHistory.prototype.url=environ.absolutePath("/api/views/history/",{initialize:function(){return this.pending(),this.on("reset",function(){return this.resolve()}),this.fetch()}}),DataViewHistory}(Serrano.DataViews),App.DataView=new DataViews,App.DataViewHistory=new DataViewHistory,App.DataView.when(function(){var session;return(session=App.DataView.getSession())||(session=App.DataView.create({session:!0})),App.DataView.session=session,session.on("sync",function(){return mediator.publish("dataview/change")})})})